(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{554:function(s,t,a){"use strict";a.r(t);var e=a(4),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"基础数据类型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基础数据类型"}},[s._v("#")]),s._v(" 基础数据类型")]),s._v(" "),a("p",[s._v("Rust 是一门静态编程语言，所有变量的类型必须在编译期就被明确固定。")]),s._v(" "),a("h3",{attrs:{id:"整数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#整数"}},[s._v("#")]),s._v(" 整数")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("长度")]),s._v(" "),a("th",[s._v("有符号")]),s._v(" "),a("th",[s._v("无符号")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("8-bit")]),s._v(" "),a("td",[s._v("i8")]),s._v(" "),a("td",[s._v("u8")])]),s._v(" "),a("tr",[a("td",[s._v("16-bit")]),s._v(" "),a("td",[s._v("i16")]),s._v(" "),a("td",[s._v("u16")])]),s._v(" "),a("tr",[a("td",[s._v("32-bit")]),s._v(" "),a("td",[s._v("i32")]),s._v(" "),a("td",[s._v("u32")])]),s._v(" "),a("tr",[a("td",[s._v("64-bit")]),s._v(" "),a("td",[s._v("i64")]),s._v(" "),a("td",[s._v("u64")])]),s._v(" "),a("tr",[a("td",[s._v("128-bit")]),s._v(" "),a("td",[s._v("i128")]),s._v(" "),a("td",[s._v("u128")])]),s._v(" "),a("tr",[a("td",[s._v("arch")]),s._v(" "),a("td",[s._v("isize")]),s._v(" "),a("td",[s._v("usize")])])])]),s._v(" "),a("ul",[a("li",[s._v("没有标注的类型，默认是 i32")]),s._v(" "),a("li",[s._v("isize和usize 根据系统来")])]),s._v(" "),a("h3",{attrs:{id:"浮点数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#浮点数"}},[s._v("#")]),s._v(" 浮点数")]),s._v(" "),a("p",[s._v("没有标注的类型，默认是 f64")]),s._v(" "),a("h3",{attrs:{id:"布尔值"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#布尔值"}},[s._v("#")]),s._v(" 布尔值")]),s._v(" "),a("p",[a("code",[s._v("true")]),s._v(" 和 "),a("code",[s._v("false")])]),s._v(" "),a("h3",{attrs:{id:"字符"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#字符"}},[s._v("#")]),s._v(" 字符")]),s._v(" "),a("p",[a("code",[s._v("char")]),s._v(" 必须使用 单引号 "),a("code",[s._v("''")])]),s._v(" "),a("h2",{attrs:{id:"整数溢出"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#整数溢出"}},[s._v("#")]),s._v(" 整数溢出")]),s._v(" "),a("p",[s._v("例如 如下代码 使用32位最大数加1 超过了最大数")]),s._v(" "),a("div",{staticClass:"language-rust line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-rust"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fn")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function-definition function"}},[s._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("u32")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4294967295")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("u32")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" sum "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" a "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token macro property"}},[s._v("println!")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"sum = {}"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" sum"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[a("code",[s._v("cargo run")]),s._v(" 运行")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("let sum = a + b;\n          ^^^^^ attempt to compute `u32::MAX + 1_u32`, which would overflow\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("改一下代码")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('let a: u32 = "4294967295".parse::<u32>().unwrap();\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("运行 "),a("code",[s._v("cargo build")]),s._v(" 代码不会报错")]),s._v(" "),a("p",[s._v("然后运行 "),a("code",[s._v("target/debug/当前文件名")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("thread 'main' panicked at 'attempt to add with overflow', src/main.rs:5:15\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("运行 "),a("code",[s._v("cargo build --release")])]),s._v(" "),a("p",[s._v("然后运行 "),a("code",[s._v("target/release/当前文件名")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("sum = 0\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("code",[s._v("release")]),s._v("会忽略错误")]),s._v(" "),a("p",[s._v("如果不确定是否会溢出 使用如下方法")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('fn main() {\n    let a: u32 = "4294967295".parse::<u32>().unwrap();\n    let b: u32 = 1;\n\n    let (sum, is_overflow) = a.overflowing_add(b);\n    println!("sum = {}, is_overflow = {}", sum, is_overflow);\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[a("code",[s._v("cargo run")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("sum = 0, is_overflow = true\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])}),[],!1,null,null,null);t.default=n.exports}}]);