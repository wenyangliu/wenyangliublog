(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{502:function(t,a,s){"use strict";s.r(a);var e=s(4),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h3",{attrs:{id:"六大亮点"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#六大亮点"}},[t._v("#")]),t._v(" 六大亮点")]),t._v(" "),s("ul",[s("li",[t._v("Performance: 性能比Vue 2.x快1.2~2倍")]),t._v(" "),s("li",[t._v("Tree shaking support: 按需编译，体积比vue2.x更小")]),t._v(" "),s("li",[t._v("Composition API: 组合API（类似React Hooks）")]),t._v(" "),s("li",[t._v("Better TypeScript support: 更好的Ts支持")]),t._v(" "),s("li",[t._v("Custom Renderer API: 暴露了自定义渲染API")]),t._v(" "),s("li",[t._v("Fragment, Teleport(Protal), Suspense: 更先进的组件")])]),t._v(" "),s("h3",{attrs:{id:"vue3-0-如何变快的"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vue3-0-如何变快的"}},[t._v("#")]),t._v(" Vue3.0 如何变快的")]),t._v(" "),s("h4",{attrs:{id:"_1-diff方法优化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-diff方法优化"}},[t._v("#")]),t._v(" 1. diff方法优化")]),t._v(" "),s("ul",[s("li",[t._v("Vue2中的虚拟dom是进行全量比对")]),t._v(" "),s("li",[t._v("Vue3新增了静态标记（PatchFlag） 在与上次虚拟节点进行比对时候，只对比带有patch flag的节点 并且可以通过flag的信息 得知当前节点要比对的具体内容")])]),t._v(" "),s("p",[t._v("i) Vue2 diff算法")]),t._v(" "),s("p",[t._v("ii) Vue3 diff算法")]),t._v(" "),s("p",[t._v("iii) Vue编译demo")]),t._v(" "),s("p",[t._v("iv) patchFlag")]),t._v(" "),s("h4",{attrs:{id:"_2-静态提升-hoiststatic"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-静态提升-hoiststatic"}},[t._v("#")]),t._v(" 2. 静态提升（hoistStatic）")]),t._v(" "),s("ul",[s("li",[t._v("Vue2中无论元素是否参与更新，每次都会重新创建，然后再渲染")]),t._v(" "),s("li",[t._v("Vue3中对于不参与更新的元素，会做静态提升，只会被创建一次，在渲染时直接复用即可")])]),t._v(" "),s("p",[t._v("i) Vue编译demo")]),t._v(" "),s("h4",{attrs:{id:"_3-事件侦听器缓存-cachehandlers"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-事件侦听器缓存-cachehandlers"}},[t._v("#")]),t._v(" 3. 事件侦听器缓存（cacheHandlers）")]),t._v(" "),s("ul",[s("li",[t._v("默认情况下 onClick 会被视为动态绑定，所以每次都会去追踪它的变化 但是因为是同一个函数，所以没有追踪变化，直接缓存起来复用即可")])]),t._v(" "),s("p",[t._v("i) Vue编译demo")]),t._v(" "),s("div",{staticClass:"language-html line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("@click")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("onClick"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("按钮"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("p",[t._v("关闭事件侦听器缓存")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("开启事件侦听器缓存")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[s("strong",[t._v("注意点：")]),t._v(" 转换之后的代码，大家可能还看不懂，但是不要紧，我们只需要观察有没有静态标记即可，因为我们知道在Vue3的diff算法中，只有有静态标记的才会进行比较，才会进行追踪")]),t._v(" "),s("h4",{attrs:{id:"_4-ssr渲染"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-ssr渲染"}},[t._v("#")]),t._v(" 4. SSR渲染")]),t._v(" "),s("ul",[s("li",[t._v("当有大量静态内容时候，这些内容会被当做纯字符串推进一个buffer里面，\n即使存在动态绑定，会通过模板插值嵌入进去。这样会比通过虚拟dom来渲染的快上很多很多。")]),t._v(" "),s("li",[t._v("当静态内容大到一定量级时候，会用_createStaticVNode方法在客户端生成一个static node，这些静态node，会被直接innerHTML，就不需要创建对象，然后根据对象渲染。")])])])}),[],!1,null,null,null);a.default=n.exports}}]);